# NATS Leaf Node Configuration
# This server acts as a leaf node connecting to the hub NATS server

# Server settings
server_name: "sqn_nats_leaf"
port: 4222

# HTTP monitoring
http_port: 8222

# JetStream configuration
jetstream {
    store_dir: "/data"
    max_memory_store: 256MB
    max_file_store: 2GB
}

# Authorization for local clients
authorization {
    users = [
        {
            user: "leaf_app"
            password: "leaf123"
            permissions = {
                publish = [">"]
                subscribe = [">"]
            }
        }
    ]
}

# Leaf node configuration - connect to hub
leafnodes {
    remotes = [
        {
            urls: ["nats://leaf_bridge:123@nats_hub:7422"]
        }
    ]
}